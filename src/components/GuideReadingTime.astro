---
import readingTime from 'reading-time';
import { getCollection } from 'astro:content';

export interface Props {
  slug: string;
}

const { slug } = Astro.props;

const docs = await getCollection('docs');
let guideReadingTime = 0;
docs.filter((doc) => doc.slug.startsWith(slug)).map((doc) => guideReadingTime += readingTime(doc.body).minutes);
guideReadingTime = Math.ceil(guideReadingTime);
---
{
  guideReadingTime >= 60 ? `${Math.floor(guideReadingTime / 60)} h ${Math.ceil(guideReadingTime % 60)} min` : `${guideReadingTime} min` 
}

